---
layout: single
title: "Java - Spring(1)"
excerpt: "Entity, Service, Store"
categories:
  - java
tags:
  - java
  - namoo
  - spring
toc: true
toc_sticky: true
---

_`python`으로 코딩을 시작한 사람의 관점에서 작성된 게시글입니다._

_감안하고 봐주시길 부탁드리겠습니다._

## Spring

### Spring이란?

자바 언어 기반의 프레임워크로서 2003년 출시 후 현재까지 많이 쓰이고 있으며 그만큼 방대한 내용을 가지고 있습니다.

`Spring`에서 끝이 아니라 `Spring MVC`, `Spring Boot`, `Spring JPA`...등 `Spring`에서 파생된 많은 프로젝트가 있습니다.

### 주요기능

1. 제어의 역전(IoC) - 객체 생성, 관리를 스프링 컨테이너가 담당하는 것입니다. 개발자는 객체를 생성하는 코드를 작성하지 않아도 됩니다.
2. 의존성 주입(DI) - 객체간의 의존성을 스프링이 자동으로 처리해주는 것입니다. 개발자는 객체간의 의존성을 직접 작성할 필요가 없습니다.
3. 관점 지향 프로그래밍(AOP) - 애플리케이션에서 반복적으로 사용되는 기능들을 모듈화하여 관리하는 것입니다.
4. 데이터 액세스 - 스프링은 JDBC, JPA, MyBatis 등 다양한 데이터 액세스 기술을 지원합니다.
5. 웹 개발 - 스프링 MVC를 사용하여 웹 애플리케이션을 개발할 수 있습니다.
6. 보안 - 스프링 시큐리티를 사용하여 애플리케이션의 보안을 강화할 수 있습니다.

아무래도 `python`을 알고 있는 상태에서 공부를 하다보니 자연스럽게 `python`과 `django`의 기능들에 대입하면서 듣게 되었습니다.

`python`이 좀 더 최신 언어이고 편의성도 높은 언어이다 보니 자연스럽게 할 수 있던 것들이 `java`와 `spring`에서는 그렇지 않은 듯 했습니다.

이러한 저의 관점에서 설명을 해보자면,

#### `IoC`(제어의 역전)

은 모델(테이블, Entities)과 뷰(API, View, 기능, store, service 등) 사이를 좀 더 원활하게 조절하기위한 기능입니다.

기존의 방식대로라면 어느 한 쪽에서 수정사항이 생길 때, 그와 연결된 것들도 수정해줘야 하지만 스프링 컨테이너로 중간에서 묶어주면 그 스프링 컨테이너만 수정해주면 되기 때문입니다.

`Spring`에서는 이것을 "**코드의 결합도를 낮춘다."** 라고 표현합니다.

말 그대로 코드 간의 결합도를 낮춰 한 쪽에 수정사항이 생겼을 때 다른 쪽에 미치는 영향을 줄이기 위함이라 생각하시면 될 것 같습니다.

#### `DI`(Dependency Injection, 의존성 주입)

은 비교적 우리에게 친숙한 개념인 것 같습니다.

앞서 작성한 `쉽게 배우는 java1(7)`을 보셨다면 클래스와 인스턴스에 대한 개념을 알고 계실겁니다.

`의존성`은 여기에서 한 단계 발전한 개념이라 생각하시면 될 것 같습니다.

지금까지는 한 클래스 안에 있는 `변수`와 `메서드`를 가져와 쓰는 정도였다면

이제는 여러 `변수`와 여러 `메서드`를 가지고 있는 클래스를 필요에 따라

위에서 아래로 연결하기도 하고 옆으로 연결하기도 하면서

클래스들을 서로 참조하며 활용하기 위한 `의존성`이라 생각됩니다.

#### `AOP`(Aspect Oriented Programming, 관점 지향 프로그래밍)

그동안 우리가 사용해오던 `OOP`(객체 지향 프로그래밍)에서 한 단계 더 나아간 프로그래밍 방법입니다.

`django`에서 우리는 앱을 만들고 그 안의 `models.py`와 `views.py`등을 작성하고 수정하며 프로그램을 작성했었습니다.

각 앱마다 `CRUD`에 해당하는 기능들을 기본적으로 항상 작성했어야 했습니다.

이렇게 각 객체에 같은 기능이 있어도 각각 작성해야 했던 것들을

따로 모야 `모듈화`하는 것이 `AOP`입니다.

## Spring 의 클래스 종류

### Entity

`java`의 `Entity`는 `db`의 테이블과 매핑되는 클래스입니다.

`Entity`가 가지고 있는 변수들은 매핑되는 테이블의 컬럼입니다.

`Spring`에서는 `JPA(Java Persistence API)`를 활용하여 매핑합니다.

#### "매핑"이란??

`Spring`을 공부하기 시작하면서 저를 괴롭히는 것중 하나가 `매핑`이었습니다.

그래서 찾아보니까 쉽게 안심할 수 있었습니다. `매핑`은 `ORM` 이었습니다.

우리가 `django`에서 모델 == 테이블 이라고 생각하던 것처럼

`Spring`에서는 `Entity` == 테이블인데 여기서 "=="에 해당하는 게 `매핑`입니다.

이제 개념을 알았으니 사용법만 익히면 `매핑`은 걱정되지 않을 거 같습니다.

### Store(Repository)

저는 여기서부터 약간 헷갈리기 시작했습니다.

우리는 지금까지 `views.py`에 데이터를 조작하는 기능들을 작성했었습니다.

하지만 `spring`에서는 기초 작업과 심화 작업을 나눈다고 생각하시면 될 것 같습니다.

그 중 기초 작업에 해당하는 것이 `Store`인 것이죠.

간단한 저장, 검색, 수정, 삭제의 기능을 담당하며 이것들을 캡슐화하여

후술할 `Service`가 `db`와 직접적으로 상호작용하지 않도록 합니다.

### Service

`Service`는 `Entity`와 `Store` 사이에서 기능합니다.

앞서 말씀드린 심화 작업에 해당하는 관리, 보안, 예외 처리 등의 기능을 담당합니다.

이 때도 `db`에 직접 관여하지 않고 `Store` 인터페이스를 거쳐 작용합니다.

### 이점

`Spring`에서는 이와 같이 `Entity `, `Store `, `Service `3가지로 클래스의 종류를 나누어 요청에 관한 `db`작업을 진행합니다.

이렇게 함으로써 상호작용을 추상화하고, 객체 지향적인 설계로 작용하게 됩니다.

이에 따라 유지보수성과 확장성이 좋아집니다.

---

`Spring`을 공부하는 첫 날인만큼, 코드 한 줄 없이 개념정리에 관한 글만을 적었습니다.

역시 `python`과 `django`가 쉬운 언어와 프레임워크라고 했던 것 만큼

`Spring`은 좀 더 불친절한 느낌이었습니다.

하지만 다행이도 이해가 안되는 수준은 아니었으며 어떤 식으로 작용하는 지 알 수 있었습니다.

`Spring` 게시글이 몇 탄까지 이어질지는 모르겠지만 최소 `django`로 작성가능한 수준만큼은 끌어올려 보겠습니다.

내용 중에 틀리거나 이상한 점을 발견하시면 댓글로 말씀해주시면 감사드리겠습니다.

---

이 포스팅은 유튜브 '나무소리'님의 `Spring 5 for Beginner`를 수강 후 작성한 게시글입니다.

---
